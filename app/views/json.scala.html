@* json Template File *@
@* (param: Any) *@

<html ng-app="notesApp">
	<head>
		<link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/main.css")">
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/site.css")">
        <link rel="stylesheet" media="screen" href="@routes.Assets.at("stylesheets/ui-lightness/jquery-ui-1.10.4.custom.css")">
        <link rel="shortcut icon" type="image/png" href="@routes.Assets.at("images/favicon.png")">
        <script src="@routes.Assets.at("javascripts/jquery-1.10.2.js")" type="text/javascript"></script>
        <script src="@routes.Assets.at("javascripts/jquery-ui-1.10.4.custom.js")" type="text/javascript"></script>
		<script src="@routes.Assets.at("javascripts/angular.js")"></script>
		<script src="@routes.Assets.at("javascripts/jsonsite.js")" type="text/javascript"></script>
		
		<!--link rel="stylesheet" href="/assets/stylesheets/todo.css"-->
	</head>
	<body ng-controller="NotesCtrl">
		<div class="notes-menu">
			<div class="hoverable menu-button ui-state-default ui-corner-all">
				<a href="@routes.NoteController.create()" class="ui-icon ui-icon-circle-plus" id="button">+</a>
			</div>
		</div>
		<div>
			<span>{{ notes.length }} notes total</span>
			<ul class="unstyled">
				<li ng-repeat="note in notes" ng-init="alert('loaded');">
					<span>{{note.Id}}</span>
				</li>
			</ul>			
		</div>
		<div>
		
		<div ng-repeat="note in notes" id="{{note.Id}}" class="note ui-widget-content" style="top:{{note.Top}}px;left:{{note.Left}}px; width:{{note.Width}}px;height:{{note.Height}}px;position:absolute;z-index:{{note.Position}}">
	    	<div class="note-header ui-widget-header">
	   
		    	<div class="note-header-buttons">
		    		<div class="hoverable ui-state-default ui-corner-all">
		    		@*form(routes.NoteController.delete(note.Id)){
		    			<a class="delete-note ui-icon ui-icon-trash">X</a>
		    		}*@
		    		</div>
		    		<div class="hoverable ui-state-default ui-corner-all">
		    			<span class="ui-icon ui-icon-arrow-4-diag">X</span>
		    		</div>
		    	</div>
		    	<div class="note-header-content">
		    	@*form(routes.NoteController.save()){*@
					<input id="title-{{note.Id}} name="title" type="text" class="editable" value="{{note.Title.length > 0? note.Title:note.Id}}"></input>
					<input name="id" type="hidden" value="{{note.Id}}"/>
				@*}*@
				</div>
				 		
			</div>
	    	<div class="note-body">
	    		<div style="height:{{note.Height > 35?note.Height - 35:note.Height}}px">
	    		@*for(item <- note.Items){*@
	    		<div ng-repeat="item in note.Items">
	    			@*form(routes.NoteController.saveitem(note.Id)){*@
	    			<textarea name="notetext" id="note-line-{{note.Id}}-{{item.Id}}" class="editable" rows="{{item.NoteText.split('\n').length}}">{{item.NoteText}}</textarea>
					<input name="itemid" value="{{item.Id}}" type="hidden"/>
	    			@*}*@
	    		</div>
	    		@*}*@
	    		@*form(routes.NoteController.saveitem(note.Id)){
	    			<textarea name="notetext" id="note-line-@note.Id" class="editable" rows="1">Enter</textarea>
	    			<input name="itemid" value="0" type="hidden"/>  
	    		} *@   		
	    		</div>  		
	    	</div>
	    </div>
		</div>
	</body>
</html>
